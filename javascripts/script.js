// Generated by CoffeeScript 1.6.3
(function() {
  $(document).ready(function() {
    var degree, image, x;
    degree = 0;
    image = $('.main');
    x = true;
    return $(window).keypress(function(event) {
      var _results;
      console.log('hit');
      console.log(degree);
      if (event.keyCode === 32) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            strafe: 0
          },
          dataType: 'jsonp'
        });
        return image.stop();
      } else if (event.keyCode === 119) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            forward: 1
          },
          dataType: 'jsonp'
        });
        _results = [];
        while (true) {
          console.log('works');
          $('.main').animate({
            top: '-=2'
          }, 500);
          if (x === false) {
            break;
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      } else if (event.keyCode === 115) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            forward: -1
          },
          dataType: 'jsonp'
        });
        return image.animate({
          top: '+=2'
        }, 0);
      } else if (event.keyCode === 101) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            turn: 1
          },
          dataType: 'jsonp'
        });
        degree += 2;
        return image.css({
          '-webkit-transform': 'rotate(' + degree + 'deg)'
        });
      } else if (event.keyCode === 113) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            turn: -1
          },
          dataType: 'jsonp'
        });
        degree -= 2;
        return image.css({
          '-webkit-transform': 'rotate(' + degree + 'deg)'
        });
      } else if (event.keyCode === 100) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            strafe: 1
          },
          dataType: 'jsonp'
        });
        return image.animate({
          left: '+=2'
        }, 0);
      } else if (event.keyCode === 97) {
        $.ajax({
          url: 'http://127.0.0.1:8071/motion-control/update',
          type: 'POST',
          data: {
            strafe: -1
          },
          dataType: 'jsonp'
        });
        return image.animate({
          left: '-=2'
        }, 0);
      }
    });
  });

}).call(this);
